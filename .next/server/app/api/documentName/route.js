"use strict";(()=>{var e={};e.id=278,e.ids=[278],e.modules={11185:e=>{e.exports=require("mongoose")},20399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},43013:(e,t,r)=>{r.r(t),r.d(t,{originalPathname:()=>h,patchFetch:()=>f,requestAsyncStorage:()=>m,routeModule:()=>c,serverHooks:()=>g,staticGenerationAsyncStorage:()=>l});var n={};r.r(n),r.d(n,{POST:()=>p});var o=r(49303),i=r(88716),a=r(60670),s=r(87070),u=r(75748),d=r(37186);async function p(e){try{await (0,u.Z)();let{id:t}=await e.json(),r=await d.Z.find({_id:t},{name:1}).sort({created_at:-1});return s.NextResponse.json(r)}catch(e){return s.NextResponse.json({error:"Failed to fetch documents"},{status:500})}}let c=new o.AppRouteRouteModule({definition:{kind:i.x.APP_ROUTE,page:"/api/documentName/route",pathname:"/api/documentName",filename:"route",bundlePath:"app/api/documentName/route"},resolvedPagePath:"/Users/vigneshk/Desktop/work/TwpDocBot/src/app/api/documentName/route.ts",nextConfigOutput:"",userland:n}),{requestAsyncStorage:m,staticGenerationAsyncStorage:l,serverHooks:g}=c,h="/api/documentName/route";function f(){return(0,a.patchFetch)({serverHooks:g,staticGenerationAsyncStorage:l})}},75748:(e,t,r)=>{r.d(t,{Z:()=>s});var n=r(11185),o=r.n(n);let i=process.env.MONGODB_URI;if(!i)throw Error("Please define the MONGODB_URI environment variable inside .env");let a=global.mongoose;a||(a=global.mongoose={conn:null,promise:null});let s=async function(){if(a.conn)return a.conn;a.promise||(a.promise=o().connect(i,{dbName:"twpbot",bufferCommands:!1}).then(e=>e));try{a.conn=await a.promise}catch(e){throw a.promise=null,e}return a.conn}},37186:(e,t,r)=>{r.d(t,{Z:()=>a});var n=r(11185),o=r.n(n);let i=new(o()).Schema({content:{type:String,required:[!0,"Content is required"]},name:{type:String,required:[!0,"Name is required"]},user_id:{type:String,required:[!0,"User ID is required"]},file_url:{type:String,required:[!0,"File URL is required"]},file_key:{type:String,required:[!0,"File key is required"]},created_at:{type:Date,default:Date.now}}),a=o().models.Document||o().model("Document",i)}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),n=t.X(0,[948,972],()=>r(43013));module.exports=n})();